---
// Используем зелёный цвет из палитры сайта (aquaSoft)
const stroke = "#C7D7C9"; // aquaSoft - зелёный цвет сайта
const dot = "rgba(199, 215, 201, 0.6)"; // aquaSoft с прозрачностью для точек

// Координаты точек на змейке (синхронизированы с позициями шагов)
// viewBox: 0 0 1400 420
// Позиции шагов в процентах от контейнера: x: 12, 33, 56, 76, 55, 84
// Контейнер max-width: 1200px, но viewBox 1400px
// Переводим проценты в координаты viewBox: 12% от 1400 = 168
const points = [
  { x: 168, y: 190 },  // 01 - 12% x, top
  { x: 462, y: 190 },  // 02 - 33% x, top
  { x: 784, y: 190 },  // 03 - 56% x, top
  { x: 1064, y: 310 }, // 04 - 76% x, bottom
  { x: 770, y: 310 },  // 05 - 55% x, bottom
  { x: 1176, y: 310 }, // 06 - 84% x, bottom
];
---

<svg viewBox="0 0 1400 420" xmlns="http://www.w3.org/2000/svg" class="snakeSvg" aria-label="Путь терапии">
  <defs>
    <marker id="arrow" markerWidth="14" markerHeight="14" refX="10" refY="7" orient="auto">
      <path d="M0,0 L14,7 L0,14 Z" fill={stroke} />
    </marker>
    <filter id="softShadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
      <feOffset dx="0" dy="1" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Идеально ровная змейка: четкие горизонтальные сегменты с плавными переходами -->
  <!-- Верхняя линия (слева направо) -> плавный переход вниз -> нижняя линия (справа налево) -> финал -->
  <path
    d="
      M 100 190
      L 168 190
      L 462 190
      L 784 190
      L 1064 190
      C 1100 190, 1120 210, 1120 250
      C 1120 280, 1120 310, 1064 310
      L 770 310
      L 1176 310
      L 1300 310
    "
    fill="none"
    stroke={stroke}
    stroke-width="6"
    stroke-linecap="round"
    stroke-linejoin="round"
    marker-end="url(#arrow)"
    class="snakePath"
    filter="url(#softShadow)"
  />

  <!-- Точки на линии точно в позициях шагов -->
  <g fill={dot} stroke={dot}>
    {points.map((p) => (
      <circle cx={p.x} cy={p.y} r="7"/>
    ))}
  </g>
</svg>

<style>
  .snakeSvg { 
    width: 100%; 
    height: auto; 
    display: block; 
  }
  .snakePath { 
    opacity: 0.95; 
  }
</style>
